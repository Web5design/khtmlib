<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<style type="text/css">
#map{
width:400px;
height:300px;
}
#coords{
position:absolute;
left:450px;
top:0px;
}

</style>
<script type="text/javascript" src="../../js/khtml.js"> </script>
<script type="text/javascript">

var mr=new Object(khtml.maplib);
var map=null;

function init(){
	map=new mr.Map(document.getElementById("map"));  //dom element
	var center=new mr.Point(48.2,15.6);  //latitude, longitude
	map.centerAndZoom(center,12); //12 = zoomlevel
	for(var i=0; i < 1000;i++){
		setTimeout("move()",i*20);
	}
	map.addCallbackFunction(showCoordinates);
}
function move(){
	map.moveXY(1,1);
}


function showCoordinates(evt){
        var lat=map.center().lat();
        var lng=map.center().lng();
        var zoom=map.getZoom();
        document.getElementById("lat").firstChild.nodeValue=lat;
        document.getElementById("lng").firstChild.nodeValue=lng;
        document.getElementById("zoom").firstChild.nodeValue=zoom;

        var p=map.mouseToLatLng(evt);
        document.getElementById("mouselat").firstChild.nodeValue=p.lat()+" ";
        document.getElementById("mouselng").firstChild.nodeValue=p.lng()+" ";
        
}
</script>
</head>
<body onload="init()">
<div id="coords">
<h4>Center of Map</h4>
<div>lat: <span id="lat">0</span></div>
<div>lng: <span id="lng">0</span></div>
<div>zoom: <span id="zoom">0</span></div>
<h4>Coordinats at mouse position</h4>
<div>lat: <span id="mouselat">0</span></div>
<div>lng: <span id="mouselng">0</span></div>
</div>

<h1>move by pixel</h1>
<div id="map"> </div>
 
</body>
</html>
